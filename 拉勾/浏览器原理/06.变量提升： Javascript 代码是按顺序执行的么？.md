### 变量提升： Javascript 代码是按顺序执行的么？

#### 所谓的变量提升，是指在 js 代码执行过程中，js 引擎把变量的声明部分和函数的声明部分提升到代码开头的 “行为”。变量被提升后，会给变量设置默认值，这个默认值就是我们熟悉的 undefined.

- js 代码在执行过程中，需要先做 **变量提升**，而注意需要实现变量提升，是因为 js代码在执行之前需要先 **编译**
- 在 **编译阶段** 变量和函数会被存放到 **变量环境** 中，变量的默认值会被设置为  undefined; 在代码**执行阶段**， Js 引擎 会从变量环境中去查找自定义的变量和函数。
- 如果在编译阶段，存在两个相同的函数，那么最终存放在变量环境中的是最后定义的那个，这是因为后定义的会覆盖掉之前定义的。
- Javascript 的执行机制： **先编译，再执行**

### 调用栈： 为什么 js代码会出现栈溢出

![image-20210302112756325](https://tva4.sinaimg.cn/large/a2f16a97ly1gp5g9gasjzj20ok0o079u.jpg)

- 每调用一个函数， Javascirpt 引擎会为其创建执行上下文，并把该指向上下文压入调用栈，然后 Javascript 引入开始执行函数代码
- 如果再一个函数A 中调用了另外一个函数 B，那么 js 引擎会为 B 函数创建执行上下文，并将 B 函数的执行上下文压入栈顶。
- 当前函数执行完毕后，Javascript 引擎会将该函数的执行上下文弹出栈
- 当分配的调用栈空间被占满时，会引发 “堆栈溢出” 的问题了。

变量提升所带来的问题：

1. 变量容易 在不被察觉的情况下被覆盖掉
2. 本应销毁的变量没有被销毁

#### 评论精选

var的创建和初始化被提升，赋值不会被提升。
let的创建被提升，初始化和赋值不会被提升。
function的创建、初始化和赋值均会被提升。

